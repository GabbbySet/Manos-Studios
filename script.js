const language_data = {
    "english":{
        "location": "Chios, Megas Limionas",

        "main_title": "Welcome to Chios<br>Welcome to Manos",

        "chios_title": "Chios",
        "region_title": "Manos Studios",
        "gal_title": "Photos",
        "chios_text": "Chios is the second largest island in the north Aegean. It is situated near the geographical center, south of Lesvos Island. It covers an 822 Sq. Km. area and has a coastal perimeter of about 500 miles. The highest mountainous terrain is Pelinaion (1170 m). Chios has frequent boat connections from Piraeus, Salonika and other islands as well as Turkey. Every moment of the year Chios is ready to provide holidays to fulfill the dreams of every visitor. The main attraction that Chios has to offer is the unbounded natural beauty of its coastline, antique vilages and magnificent beaches. The warm crystal clear waters make Chios well known as a place for ideal living. Chios combines local tradition with modern life and offers unforgettable experiences to thousands of visitors.",
        "region_text": "Just 150 meters away from the beach of Megas Limionas, overlooking the endless blue of the Agean Sea. Manos Studios are located in a quiet and family like enviroment that will amaze you. Manos Studios is a small tourist accommodation, offering fully equipped apartments (capacity of 12 beds), with individual verandas, outdoor spaces, BBQ and an amazing garden with mastic trees and roses. The distance from the center of Chios town and the port is 7km, from the airport about 5km and only 100m from our accommodation there are restaurants, minimarkets and other shops.",

        "card1_title": "Facilities",
        "wifi": "Free WiFi internet",
        "parking": "Free parking area",
        "pet": "Pets allowed",
        "garden": "Garden with furniture",
        "bbq": "Shared BBQ",
        "terrace": "Terrace area",

        "card2_title": "Room",
        "prvt_entrance": "Private entrance",
        "soundproof": "Soundproofing",
        "air_condition": "Air conditioning",
        "bathroom": "Bathroom with shower",
        "hair_dryer": "Hair dryer",
        "kitchen": "Fully equipped kitchen",
        "tea_coffee": "Tea/Coffee maker",
        "media": "Flat TV",

        "card3_title": "Nearby",
        "beach": "Beach",
        "restaurant": "Cafe / Restaurant",
        "bus": "Bus stop",
        "market": "Mini market",

        "contact_title": "Contact us:",
        "close_btn_txt": "Close"
    },

    "greek":{
        "location": "Χίος, Μέγας Λιμιώνας",

        "main_title": "Καλωσήρθατε στη Χίο<br>Καλωσορίσατε στο Manos",

        "chios_title": "Χίος",
        "region_title": "Στούντιο Μάνος",
        "gal_title": "Φωτογραφίες",
        "chios_text": "Η Χίος είναι το δεύτερο σε μέγεθος νησί του Βορείου Αιγαίου. Βρίσκεται κοντά στο γεωγραφικό κέντρο της περιοχής, νότια της Λέσβου. Καλύπτει 822 τ. χλμ. έκτασης και η παράκτια περίμετρος της είναι περίπου 500 μίλια. Το μεγαλύτερο σε υψόμετρο βουνό είναι το Πελινναίον (1170 μ.). Η Χίος συνδέεται ακτοπλοϊκώς με τον Πειραιά, τη Θεσσαλονίκη και άλλα νησιά καθώς και την Τουρκία. Κάθε εποχή του χρόνου η Χίος έχει τη δυνατότητα να προσφέρει ονειρεμένες διακοπές για κάθε επισκέπτη. Τα κύρια αξιοθέατα που έχει να προφέρει η Χίος είναι η απεριόριστη φυσική ομορφιά της ακτογραμμής της, τα παραδοσιακά χωριά και οι υπέροχες παραλίες της. Τα ζεστά κρυστάλλινα νερά έχουν κάνει τη Χίο να φημίζεται σαν ένας ιδανικός τόπος για να ζήσει κανείς. Σήμερα αυτο το υπέροχο νησί, που συνδιάζει αρμονικά την παράδοση και τον μοντέρνο τρόπο ζωής, προσφέρει αξέχαστες εμπειρίες σε χιλιάδες επισκέπτες.",
        "region_text": "Μόλις 150 μέτρα από την παραλία του Μέγα Λιμιώνα με θέα το απέραντο γαλάζιο του Αιγαίου βρίσκεται το κατάλυμά μας. Σε ένα ήσυχο και οικογενειακό περιβάλλον που θα σας εντυπωσιάσει. Το Manos Studios είναι ένα μικρό τουριστικό κατάλυμα πλήρως εξοπλισμένων διαμερισμάτων δυναμικότητας 12 κλινών, με ατομικές βεράντες εξωτερικούς χώρους, BBQ και έναν εκπληκτικό κήπο με μαστιχόδεντρα και τριανταφυλλιές. Η απόσταση από το κέντρο της Χίου και το λιμάνι είναι 7km, από το αεροδρόμιο 5km και σε μικρή απόσταση, 100m υπάρχουν εστιατόρια, minimarket και άλλα καταστήματα.",

        "card1_title": "Παροχές",
        "wifi": "Δωρεάν ασύρματο ίντερνετ",
        "parking": "Δωρεάν πάρκινγκ",
        "pet": "Επιτρέπονται κατοικίδια",
        "garden": "Κήπος με έπιπλα",
        "bbq": "Κοινόχρηστο μπάρμπεκιου",
        "terrace": "Βεράντα",

        "card2_title": "Δωμάτιο",
        "prvt_entrance": "Ιδιωτική είσοδος",
        "soundproof": "Ηχομόνωση",
        "air_condition": "Κληματιστικό",
        "bathroom": "Μπάνιο με ντουζιέρα",
        "hair_dryer": "Στεγνωτήρας μαλλιών",
        "kitchen": "Πλήρως εξοπλισμένη κουζίνα",
        "tea_coffee": "Καφετιέρα",
        "media": "Επίπεδη τηλεώραση",

        "card3_title": "Τριγύρω",
        "beach": "Παραλία",
        "restaurant": "Καφέ / Εστιατόρια",
        "bus": "Στάση λεωφορείου",
        "market": "Μίνι μάρκετ",

        "contact_title": "Επικοινωνία:",
        "close_btn_txt": "Κλείσιμο"
    }
}

//Setting constants for the language icons
const lang_gr_img = 'url(\'images/lang_gr_45x30.png\')';
const lang_eng_img = 'url(\'images/lang_eng_45x30.png\')';

//Getting the language links to add event listeners to each
const links = [document.querySelector('a.lang-gr'), document.querySelector('a.lang-eng')];

//Getting button to change its background image
const langButton = document.querySelector('.lang-btn');

//Getting all the elements that contain text for translation
//showcase
const locationEl = document.querySelector('.location');
const mainTitleEl = document.querySelector('#main-title');
//paragraphs
const chiosTitleEl = document.querySelector('#title-chios');
const regionTitleEl = document.querySelector('#title-region');
const galTitleEl = document.querySelector('#gal-link');
const chiosTextEl = document.querySelector('#chios');
const regionTextEl = document.querySelector('#megas-limionas');
//cards
const card1TitleEl = document.querySelector('.card1-title');
const card2TitleEl = document.querySelector('.card2-title');
const card3TitleEl = document.querySelector('.card3-title');
const wifiEl = document.querySelector('#wifi');
const parkingEl = document.querySelector('#parking');
const petEl = document.querySelector('#pet');
const gardenEl = document.querySelector('#garden');
const bbqEl = document.querySelector('#bbq');
const terraceEl = document.querySelector('#terrace');
const prvtEntranceEl = document.querySelector('#prvt-entrance');
const soundproofEl = document.querySelector('#soundproof');
const airConditionEl = document.querySelector('#air-condition');
const bathroomEl = document.querySelector('#bathroom');
const hairDryerEl = document.querySelector('#hair-dryer');
const kitchenEl = document.querySelector('#kitchen');
const teaCoffeeEl = document.querySelector('#tea-coffee');
const mediaEl = document.querySelector('#media');
const beachEl = document.querySelector('#beach');
const restaurantEl = document.querySelector('#restaurant');
const busEl = document.querySelector('#bus');
const marketEl = document.querySelector('#market');
const contactTitleEl = document.querySelector('.contact-title');
//close gallery button


//Translation Function
function translateLanguage(lang_data, attribute){
    //showcase
    locationEl.textContent = lang_data[attribute].location;
    mainTitleEl.innerHTML = lang_data[attribute].main_title;
    //paragraphs
    chiosTitleEl.textContent = lang_data[attribute].chios_title;
    regionTitleEl.textContent = lang_data[attribute].region_title;
    galTitleEl.textContent = lang_data[attribute].gal_title;
    chiosTextEl.textContent = lang_data[attribute].chios_text;
    regionTextEl.textContent = lang_data[attribute].region_text;
    //cards
    card1TitleEl.textContent = lang_data[attribute].card1_title;
    card2TitleEl.textContent = lang_data[attribute].card2_title;
    card3TitleEl.textContent = lang_data[attribute].card3_title;
    wifiEl.textContent = lang_data[attribute].wifi;
    parkingEl.textContent = lang_data[attribute].parking;
    petEl.textContent = lang_data[attribute].pet;
    gardenEl.textContent = lang_data[attribute].garden;
    bbqEl.textContent = lang_data[attribute].bbq;
    terraceEl.textContent = lang_data[attribute].terrace;
    prvtEntranceEl.textContent = lang_data[attribute].prvt_entrance;
    soundproofEl.textContent = lang_data[attribute].soundproof;
    airConditionEl.textContent = lang_data[attribute].air_condition;
    bathroomEl.textContent = lang_data[attribute].bathroom;
    hairDryerEl.textContent = lang_data[attribute].hair_dryer;
    kitchenEl.textContent = lang_data[attribute].kitchen;
    teaCoffeeEl.textContent = lang_data[attribute].tea_coffee;
    mediaEl.textContent = lang_data[attribute].media;
    beachEl.textContent = lang_data[attribute].beach;
    restaurantEl.textContent = lang_data[attribute].restaurant;
    busEl.textContent = lang_data[attribute].bus;
    marketEl.textContent = lang_data[attribute].market;
    //contact title
    contactTitleEl.textContent = lang_data[attribute].contact_title;
}

//Set english as the default language
document.cookie = 'english';
var langAttr = 'english';
translateLanguage(language_data, langAttr);

//adding the event listeners and translating
links.forEach(el => {
    el.addEventListener('mousedown', () => {
        langAttr = el.getAttribute('language');
        //changing the language icon
        if (langAttr == 'english'){
            document.cookie = 'english';
            langButton.style.backgroundImage = lang_eng_img;
            langButton.style.backgroundPosition = 'center center';
        }else {
            document.cookie = 'greek';
            langButton.style.backgroundImage = lang_gr_img;
            langButton.style.backgroundPosition = 'left center';
        }

        translateLanguage(language_data, langAttr);
    });
});

/* Unused Clamp Function */
/*
function clamp(num, bottom){
    return num < bottom? bottom : num;
}
*/
function closeWindow(){
    popup_win.style.display = 'none';
    selected = false;   //used for the next-prev buttons
    close_msg.style.opacity = start_opacity;
}

//Math repeat function ^^
function repeat(number, start_const, end_const){
    if(number < start_const) { return end_const; }
    if (number > end_const) { return start_const; }
    return number;
}

//language button functionality
const lang_btn = document.querySelector('.lang-btn');
const lang_arrow = document.getElementById('lang-arrow');
const lang_dropdown = document.querySelector('.lang-dropdown ul');

//dropdown icon state
var isClicked = false;

const lang_cont = document.getElementById('lang-btn-cont');

lang_cont.addEventListener('mouseover', () => {
    if (!isClicked){
        lang_arrow.style.opacity = 1;
    }
});

lang_cont.addEventListener('mouseleave', () => {
    if (!isClicked){
        lang_arrow.style.opacity = 0;
    }
});

//dropdown icon images
const dropdown_fill_img = 'url(\'images/dropdown_fill_10x10.png\')';
const dropdown_img = 'url(\'images/dropdown_10x10.png\')';

lang_cont.addEventListener('click', () => {
    isClicked = !isClicked;
    if (isClicked){
        lang_dropdown.style.opacity = 1;
        lang_dropdown.style.pointerEvents = 'all';
        lang_dropdown.style.transform = 'translateY(0)';

        lang_btn.style.filter = 'grayscale(50%)';

        lang_arrow.style.backgroundImage = dropdown_fill_img;
    }else{
        lang_dropdown.style.opacity = 0;
        lang_dropdown.style.pointerEvents = 'none';
        lang_dropdown.style.transform = 'translateY(-10px)';

        lang_btn.style.filter = 'grayscale(0%)';
        lang_arrow.style.backgroundImage = dropdown_img;
    }
    lang_arrow.style.opacity = 1;
    lang_btn.style.opacity = 1;
});

window.onclick = function(event) {
    if ((event.target !== lang_btn && event.target !== lang_arrow && event.target !== lang_cont && event.target !== langButton) && isClicked) {
        isClicked = !isClicked;
        lang_arrow.style.opacity = 0;
        lang_dropdown.style.opacity = 0;
        lang_dropdown.style.pointerEvents = 'none';
        lang_dropdown.style.transform = 'translateY(-10px)';

        lang_btn.style.filter = 'grayscale(0%)';
        
        lang_arrow.style.backgroundImage = dropdown_img;
    }
}

/* TAB Management */

const tabs = document.querySelectorAll('[data-tab-target]');
const tabCont = document.querySelectorAll('[data-tab-content]');

tabs.forEach(tab => {
    tab.addEventListener('click', () => {
        const target = document.querySelector(tab.dataset.tabTarget);
        tabCont.forEach(tabContent => {
            tabContent.classList.remove('active');
        });
        tabs.forEach(tab => {
            tab.classList.remove('active');
        });
        tab.classList.add('active');
        target.classList.add('active');
    });
});
